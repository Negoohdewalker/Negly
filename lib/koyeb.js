/*


GIFTED-MD
VERSION 3.0.0


*/


const _0x2c2d94=_0x45d2;(function(_0x2e32d4,_0x445c64){const _0x233aaa=_0x45d2,_0x3440f4=_0x2e32d4();while(!![]){try{const _0x4808ac=parseInt(_0x233aaa(0x119))/0x1*(-parseInt(_0x233aaa(0x117))/0x2)+parseInt(_0x233aaa(0x10a))/0x3+parseInt(_0x233aaa(0xfc))/0x4*(-parseInt(_0x233aaa(0x111))/0x5)+-parseInt(_0x233aaa(0x122))/0x6+parseInt(_0x233aaa(0x10b))/0x7+-parseInt(_0x233aaa(0x11e))/0x8+parseInt(_0x233aaa(0x11c))/0x9*(-parseInt(_0x233aaa(0x110))/0xa);if(_0x4808ac===_0x445c64)break;else _0x3440f4['push'](_0x3440f4['shift']());}catch(_0x5a2691){_0x3440f4['push'](_0x3440f4['shift']());}}}(_0x2a0b,0x8c0ec));const axios=require(_0x2c2d94(0x106));let koyeb_api=process[_0x2c2d94(0x101)][_0x2c2d94(0x10d)],axiosConfig={'headers':{'Content-Type':_0x2c2d94(0xfa),'Authorization':_0x2c2d94(0x12c)+koyeb_api}};async function get_deployments(){const _0x4df5cc=_0x2c2d94;status=![];let _0x27a982={'headers':{'Content-Type':_0x4df5cc(0xfa),'Authorization':_0x4df5cc(0x12c)+koyeb_api}};return await axios[_0x4df5cc(0x121)]('https://app.koyeb.com/v1/deployments',_0x27a982)['then'](_0x2277b6=>{const _0x2ec810=_0x4df5cc;let _0x17c242=[_0x2ec810(0x127),_0x2ec810(0x120),_0x2ec810(0xf8),'ERRPRING'],_0x20acb1=[];for(let _0x1b231f=0x0;_0x1b231f<_0x2277b6['data'][_0x2ec810(0x105)]['length'];_0x1b231f++){!_0x17c242[_0x2ec810(0xf6)](_0x2277b6[_0x2ec810(0x115)][_0x2ec810(0x105)][_0x1b231f]['status'])&&_0x20acb1[_0x2ec810(0x124)](_0x2277b6[_0x2ec810(0x115)][_0x2ec810(0x105)][_0x1b231f]['status']);}_0x20acb1[_0x2ec810(0x116)]>0x1&&(status=_0x2ec810(0x12b));}),status;}function checkArray(_0x288249,_0x3caa39){const _0x2f52dc=_0x2c2d94;var _0x492ff2=![];for(var _0x53d10d=0x0;_0x53d10d<_0x288249[_0x2f52dc(0x116)];_0x53d10d++){if(_0x288249[_0x53d10d][_0x2f52dc(0x123)]==_0x3caa39){_0x492ff2=!![];break;}}return _0x492ff2;}async function delvar(_0x3ba2fd){const _0x491d89=_0x2c2d94;var _0x255c7c=![];let {data:_0xc20c7}=await axios[_0x491d89(0x121)](_0x491d89(0x109),axiosConfig),_0x42618c=_0xc20c7[_0x491d89(0x125)][0x0]['id'],_0x54b4ef=await axios[_0x491d89(0x121)](_0x491d89(0x104)+_0xc20c7[_0x491d89(0x125)][0x0][_0x491d89(0x11d)],axiosConfig),_0x49d5d3=checkArray(_0x54b4ef[_0x491d89(0x115)][_0x491d89(0x113)][_0x491d89(0x12a)][_0x491d89(0x101)],_0x3ba2fd);if(_0x49d5d3!==!![])return _0x491d89(0xff);let _0x24e72f=[];for(var _0x5b2d49=0x0;_0x5b2d49<_0x54b4ef['data'][_0x491d89(0x113)][_0x491d89(0x12a)][_0x491d89(0x101)][_0x491d89(0x116)];_0x5b2d49++){if(_0x54b4ef['data'][_0x491d89(0x113)][_0x491d89(0x12a)][_0x491d89(0x101)][_0x5b2d49][_0x491d89(0x123)]===_0x3ba2fd)continue;_0x24e72f[_0x491d89(0x124)](_0x54b4ef[_0x491d89(0x115)][_0x491d89(0x113)][_0x491d89(0x12a)][_0x491d89(0x101)][_0x5b2d49]);}let _0x1878e8={'definition':{'name':_0x54b4ef[_0x491d89(0x115)]['deployment'][_0x491d89(0x12a)]['name'],'routes':_0x54b4ef[_0x491d89(0x115)][_0x491d89(0x113)][_0x491d89(0x12a)][_0x491d89(0x100)],'ports':_0x54b4ef[_0x491d89(0x115)]['deployment'][_0x491d89(0x12a)][_0x491d89(0x11a)],'env':_0x24e72f,'regions':_0x54b4ef[_0x491d89(0x115)]['deployment'][_0x491d89(0x12a)]['regions'],'scalings':_0x54b4ef[_0x491d89(0x115)]['deployment'][_0x491d89(0x12a)][_0x491d89(0x108)],'instance_types':_0x54b4ef[_0x491d89(0x115)]['deployment'][_0x491d89(0x12a)]['instance_types'],'health_checks':_0x54b4ef['data']['deployment'][_0x491d89(0x12a)][_0x491d89(0x102)],'docker':_0x54b4ef[_0x491d89(0x115)][_0x491d89(0x113)][_0x491d89(0x12a)][_0x491d89(0x12d)]}};return await axios['patch'](_0x491d89(0x118)+_0x42618c,_0x1878e8,axiosConfig)[_0x491d89(0x11f)](_0x4f97a9=>{const _0x304762=_0x491d89;_0x4f97a9['status']===0xc8?_0x255c7c=_0x304762(0x129)+_0x3ba2fd+_0x304762(0x10c):_0x255c7c=_0x304762(0x11b);}),_0x255c7c;}async function change_env(_0x2941d6){const _0x488087=_0x2c2d94;var _0x4f681d=_0x488087(0x11b);let {data:_0x271388}=await axios[_0x488087(0x121)](_0x488087(0x109),axiosConfig),_0x278573=_0x271388[_0x488087(0x125)][0x0]['id'],_0x1905cb=await axios[_0x488087(0x121)](_0x488087(0x104)+_0x271388[_0x488087(0x125)][0x0][_0x488087(0x11d)],axiosConfig),_0x12947c=_0x2941d6[_0x488087(0x128)](':'),_0x5bf39a=[];for(var _0x379cd1=0x0;_0x379cd1<_0x1905cb['data'][_0x488087(0x113)][_0x488087(0x12a)]['env'][_0x488087(0x116)];_0x379cd1++){_0x1905cb['data']['deployment'][_0x488087(0x12a)]['env'][_0x379cd1][_0x488087(0x123)]===_0x12947c[0x0]?_0x5bf39a['push']({'scopes':[_0x488087(0xfd)],'key':''+_0x12947c[0x0],'value':''+_0x12947c[0x1]}):_0x5bf39a['push'](_0x1905cb[_0x488087(0x115)][_0x488087(0x113)][_0x488087(0x12a)]['env'][_0x379cd1]);}let _0x51e85a=checkArray(_0x5bf39a,_0x12947c[0x0]);!_0x51e85a===!![]&&_0x5bf39a[_0x488087(0x124)]({'scopes':[_0x488087(0xfd)],'key':''+_0x12947c[0x0],'value':''+_0x12947c[0x1]});let _0x441c94={'definition':{'name':_0x1905cb['data'][_0x488087(0x113)]['definition'][_0x488087(0xfb)],'routes':_0x1905cb[_0x488087(0x115)][_0x488087(0x113)][_0x488087(0x12a)]['routes'],'ports':_0x1905cb[_0x488087(0x115)][_0x488087(0x113)][_0x488087(0x12a)][_0x488087(0x11a)],'env':_0x5bf39a,'regions':_0x1905cb['data'][_0x488087(0x113)]['definition'][_0x488087(0x10f)],'scalings':_0x1905cb[_0x488087(0x115)]['deployment'][_0x488087(0x12a)][_0x488087(0x108)],'instance_types':_0x1905cb[_0x488087(0x115)]['deployment']['definition'][_0x488087(0xf9)],'health_checks':_0x1905cb[_0x488087(0x115)][_0x488087(0x113)][_0x488087(0x12a)][_0x488087(0x102)],'docker':_0x1905cb[_0x488087(0x115)][_0x488087(0x113)]['definition'][_0x488087(0x12d)]}};return await axios['patch'](_0x488087(0x118)+_0x278573,_0x441c94,axiosConfig)[_0x488087(0x11f)](_0x18b981=>{const _0x244732=_0x488087;_0x18b981[_0x244732(0x126)]===0xc8?_0x4f681d=_0x244732(0x114)+_0x12947c[0x0]+':'+_0x12947c[0x1]+'\x20._':_0x4f681d='_Please\x20put\x20Koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API._\x0aEg:\x20KOYEB_API:api\x20key';}),_0x4f681d;}async function getallvar(){const _0x7fca3b=_0x2c2d94;let {data:_0x315834}=await axios[_0x7fca3b(0x121)]('https://app.koyeb.com/v1/services',axiosConfig),_0x3313ab=await axios['get'](_0x7fca3b(0x104)+_0x315834[_0x7fca3b(0x125)][0x0][_0x7fca3b(0x11d)],axiosConfig),_0x439af3=[];for(var _0x55546d=0x0;_0x55546d<_0x3313ab[_0x7fca3b(0x115)][_0x7fca3b(0x113)]['definition'][_0x7fca3b(0x101)][_0x7fca3b(0x116)];_0x55546d++){if(!_0x3313ab[_0x7fca3b(0x115)]['deployment'][_0x7fca3b(0x12a)][_0x7fca3b(0x101)][_0x55546d][_0x7fca3b(0x123)])continue;_0x439af3[_0x7fca3b(0x124)]('*'+_0x3313ab[_0x7fca3b(0x115)][_0x7fca3b(0x113)][_0x7fca3b(0x12a)][_0x7fca3b(0x101)][_0x55546d][_0x7fca3b(0x123)]+_0x7fca3b(0x107)+_0x3313ab[_0x7fca3b(0x115)][_0x7fca3b(0x113)][_0x7fca3b(0x12a)][_0x7fca3b(0x101)][_0x55546d][_0x7fca3b(0xfe)]+'_');}return _0x439af3[_0x7fca3b(0x103)]('\x0a');}async function getvar(_0x55065c){const _0x577873=_0x2c2d94;let {data:_0x88229f}=await axios[_0x577873(0x121)](_0x577873(0x109),axiosConfig),_0x392b93=await axios[_0x577873(0x121)]('https://app.koyeb.com/v1/deployments/'+_0x88229f[_0x577873(0x125)][0x0]['latest_deployment_id'],axiosConfig);for(var _0x43ddde=0x0;_0x43ddde<_0x392b93['data'][_0x577873(0x113)][_0x577873(0x12a)]['env'][_0x577873(0x116)];_0x43ddde++){if(!_0x392b93[_0x577873(0x115)][_0x577873(0x113)][_0x577873(0x12a)][_0x577873(0x101)][_0x43ddde]['key'])continue;if(_0x392b93['data'][_0x577873(0x113)][_0x577873(0x12a)][_0x577873(0x101)][_0x43ddde]['key']===_0x55065c)return _0x392b93[_0x577873(0x115)][_0x577873(0x113)][_0x577873(0x12a)]['env'][_0x43ddde][_0x577873(0x123)]+':'+_0x392b93[_0x577873(0x115)][_0x577873(0x113)][_0x577873(0x12a)][_0x577873(0x101)][_0x43ddde]['value'];}}function _0x45d2(_0x470f29,_0x2b042d){const _0x2a0b4e=_0x2a0b();return _0x45d2=function(_0x45d245,_0x53af16){_0x45d245=_0x45d245-0xf6;let _0x31775e=_0x2a0b4e[_0x45d245];return _0x31775e;},_0x45d2(_0x470f29,_0x2b042d);}async function redeploy(){const _0x2d2491=_0x2c2d94;var _0x2d6883=![],_0x4283a8={'deployment_group':_0x2d2491(0x112),'sha':''};let {data:_0x42e104}=await axios[_0x2d2491(0x121)]('https://app.koyeb.com/v1/services',axiosConfig),_0x27578f=_0x42e104[_0x2d2491(0x125)][0x0]['id'];try{let _0x38644e=await axios['post'](_0x2d2491(0x118)+_0x27578f+'/redeploy',_0x4283a8,axiosConfig);_0x2d6883=_0x2d2491(0x10e);}catch(_0x3c269c){_0x2d6883='*Got\x20an\x20error\x20in\x20redeploying.*\x0a*Please\x20put\x20koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API.*\x0a_Eg:\x20KOYEB_API:api\x20key\x20from\x20https://app.koyeb.com/account/api\x20._';}return _0x2d6883;}module[_0x2c2d94(0xf7)]={'redeploy':redeploy,'getvar':getvar,'delvar':delvar,'getallvar':getallvar,'change_env':change_env,'get_deployments':get_deployments};function _0x2a0b(){const _0x44d681=['\x20var\x20from\x20koyeb._','KOYEB_API','_update\x20started._','regions','200XdJmHn','185DNXToB','prod','deployment','Successfuly\x20changed\x20var\x20_','data','length','2wYHKVw','https://app.koyeb.com/v1/services/','82657oYZCoP','ports','_Please\x20put\x20Koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API._\x0aEg:\x20KOYEB_API:api\x20key','473517myippS','latest_deployment_id','284200RXLBjA','then','STOPPING','get','163614hTkDmq','key','push','services','status','STOPPED','split','_Successfully\x20deleted\x20','definition','true','Bearer\x20','docker','includes','exports','ERROR','instance_types','application/json;charset=UTF-8','name','20312SVInVS','region:fra','value','_No\x20such\x20env\x20in\x20koyeb._','routes','env','health_checks','join','https://app.koyeb.com/v1/deployments/','deployments','axios','*\x20:\x20_','scalings','https://app.koyeb.com/v1/services','2763162ngeHbp','7267533pdEQKn'];_0x2a0b=function(){return _0x44d681;};return _0x2a0b();}
